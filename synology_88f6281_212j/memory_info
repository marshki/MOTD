#!/usr/bin/env bash 
# Total memory (kB).
# Sample output: 930384 kB, 32641488 kB


# Standalone parse function: 

memory() {

  # Match, then print 2nd, 3rd field of record.
  
    # mems=$(awk '/MemTotal/ {print $2, $3}' /proc/meminfo)
  # printf "%s\n" "$mems"
}

memory

# Parse and convert using int (Bash builtin) to divide.

memory() {

  mems=$(awk '/MemTotal/ {print $2, $3}' /proc/meminfo)
  int($mems/1024)

}

memory 

memory() {
  # Match, then print 2nd field of record.
  # Then, use int to divide parsed field by 1000.

  mems=$(awk '/MemTotal/ {print $2}' /proc/meminfo)
  mB=$(awk 'BEGIN {print int('$mems'/1000)}')

  printf "%s\n" "$mB"
}

memory



# For reference: https://stackoverflow.com/questions/27926152/division-math-in-a-bash-script-without-bc
# echo $((3241488 / 1024 ))
# -> 3165
# echo $((930384 / 1024 ))
# -> 906

# For reference: https://stackoverflow.com/questions/14858182/integer-division-in-awk
